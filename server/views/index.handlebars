<h2>Sending E-mail with NodeJS</h2>
<form id="email-form">
    <div>
        <label for="name">Name : </label>
        <input id="name" name="name" type="text" required>
    </div>

    <div>
        <label for="email">E-mail : </label>
        <input id="email" name="email" type="email" required>
    </div>

    <div>
        <label for="subject">Subject : </label>
        <input id="subject" name="subject" type="text" required>
    </div>

    <div class="flex">
        <label for="content">Content : </label>
        <textarea id="content" name="content" rows="4" cols="50" required></textarea>
    </div>

    <button type="submit">
        Send E-mail
    </button>
    <p id="msg"></p>

    <script>
        const form = document.getElementById('email-form');
        const msg = document.getElementById('msg');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const body = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                subject: document.getElementById("subject").value,
                content: document.getElementById("content").value
            };

            try {
                const res = await fetch('/send-email', {
                    method: 'POST',
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(body),
                });

                const result = await res.json();
                msg.innerHTML = result.message || "Email Sent!!"

            } catch (err) {
                msg.innerHTML = "Something went wrong!!"
                console.log(err);

            }



        })

    </script>

</form>